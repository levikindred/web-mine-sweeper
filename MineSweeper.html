<!DOCTYPE HTML>
<html lang="en">
    <head>
        <script>
            function Cell(row, column, mined, flagged, questionMarked, exposed) {
                this.row = row;
                this.column = column;
                this.minded = mined;
                this.flagged = flagged;
                this.questionMarked = questionMarked;
                this.exposed = exposed;
            }

            function cellLeftClick() {
                if (this.className.indexOf("exposed") == -1 && 
                    this.className.indexOf("question-mark") == -1 && 
                    this.className.indexOf("flag") == -1) {
                    this.className += " exposed"; 
                }
            }

            function cellRightClick() {
                if (this.className.indexOf("exposed") == -1) {
                    if (this.className.indexOf("question-mark") != -1) {
                        this.className = this.className.replace(/\b\squestion-mark\b/g, "");
                        this.innerHTML = "";
                    } else if (this.childNodes.length > 0) {
                        this.className += " question-mark";
                        this.innerHTML = "?";
                    } else {
                        this.innerHTML = "<div class='flag'></div><div class='flag-pole'></div><div class='flag-base'>";
                    }
                }
            }

            function createCellArray(rows, columns, mines) {
                var cellArray = new Array(rows);
                for (var r = 0; r < rows; r++) {
                    cellArray[r] = new Array(columns);
                    for (var c = 0; c < columns; c++) {
                        cellArray[r][c] = new Cell(r, c, false, false, false, false);
                    }
                }
                return cellArray;
            }

            function generateBlankCell(row, column) {
                var cell = document.createElement("div");
                cell.id = "cell-" + row + "-" + column;
                cell.className = "cell";
                return cell;
            }

            window.onload = function() {
                var rows = 9, columns = 9;
                var cellArray = createCellArray(rows, columns, 0);
                var field = document.getElementById("mine-field");
                for (var r = 0; r < rows; r++) {
                    for (var c = 0; c < columns; c++) {
                        var cellDiv = generateBlankCell(cellArray[r][c].row, cellArray[r][c].column);
                        field.appendChild(cellDiv);
                        cellDiv.addEventListener("click", cellLeftClick);
                        cellDiv.addEventListener("contextmenu", cellRightClick);
                    }
                }
            }
        </script>
        <style>
            div.cell {
                background-color: lightgrey;
                border: 2px outset;
                float: left;
                font-family: Georgia, serif;
                font-weight: bold;
                height: 12px;
                margin: 0px;
                padding: 0px;
                text-align: center;
                width: 12px;
            }
            div.explosion {
                background-color: red;
                border: 1px solid grey;
                height: 14px;
                width: 14px;
            }
            div.field {
                height: 144px;
                width: 144px;
            }
            div.flag {
                border-bottom: 3px solid transparent;
                border-right: 6px solid red;
                border-top: 3px solid transparent;
                height: 0px;
                margin-left: 1px;
                margin-top: 1px;
                position: relative;
                width: 0px;
            }
            div.flag-base {
                border-bottom: 3px solid black;
                border-left: 4px solid transparent;
                border-right: 4px solid transparent;
                height: 0px;
                margin-left: 2.25px;
                margin-top: -1px;
                width: 0px;
            }
            div.flag-pole {
                background-color: black;
                height: 3px;
                margin-left: 6px;
                margin-top: -1px;
                width: 1px;
            }
            div.mine {
                background-color: black;
                border-radius: 50%;
                height: 8px;
                margin-left: 3px;
                margin-top: 3px;
                width: 8px;
            }
            div.mine-spike-0 {
                background-color: black;
                height: 12px;
                margin-left: 6.5px;
                margin-top: -10px;
                width: 1px;
            }
            div.mine-spike-1 {
                background-color: black;
                height: 12px;
                margin-left: 6.5px;
                margin-top: -12px;
                width: 1px;
                -ms-transform: rotate(45deg);
                -webkit-transform: rotate(45deg);
                transform: rotate(45deg);
            }
            div.mine-spike-2 {
                background-color: black;
                height: 12px;
                margin-left: 6.5px;
                margin-top: -12px;
                width: 1px;
                -ms-transform: rotate(90deg);
                -webkit-transform: rotate(90deg);
                transform: rotate(90deg);
            }
            div.mine-spike-3 {
                background-color: black;
                height: 12px;
                margin-left: 6.5px;
                margin-top: -12px;
                width: 1px;
                -ms-transform: rotate(135deg);
                -webkit-transform: rotate(135deg);
                transform: rotate(135deg);
            }
            div.exposed {
                border: 1px solid grey;
                height: 14px;
                width: 14px;
            }
            div.question-mark {
                color: black;
                font-size: 14px;
                line-height: 12px;
            }
            div.one {
                color: blue;
                font-size: 16px;
                line-height: 12px;
            }
            div.two {
                color: green;
                font-size: 16px;
                line-height: 12px;
            }
            div.three {
                color: red; 
                font-size: 13px;
                line-height: 10px;
            }
            div.four {
                color: purple; 
                font-size: 13px;
                line-height: 10px;
            }
            div.five {
                color: maroon; 
                font-size: 13px;
                line-height: 10px;
            }
            div.six {
                color: turquoise; 
                font-size: 14px;
                line-height: 15px;
            }
            div.seven {
                color: black; 
                font-size: 13px;
                line-height: 10px;
            }
            div.eight {
                color: gray; 
                font-size: 14px;
                line-height: 15px;
            }
        </style>
    </head>
    <body oncontextmenu="return false;">
        <div class="field">
            <div class="cell"><div class="flag"></div><div class="flag-pole"></div><div class="flag-base"></div></div><div class="cell question-mark">?</div><div class="cell exposed"><div class="mine"></div><div class="mine-spike-0"></div><div class="mine-spike-1"></div><div class="mine-spike-2"></div><div class="mine-spike-3"></div></div><div class="cell explosion"><div class="mine"></div><div class="mine-spike-0"></div><div class="mine-spike-1"></div><div class="mine-spike-2"></div><div class="mine-spike-3"></div></div><div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div>
            <div class="cell"></div><div class="cell exposed one">1</div><div class="cell exposed two">2</div><div class="cell exposed three">3</div><div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div>
            <div class="cell"></div><div class="cell exposed eight">8</div><div class="cell exposed"></div><div class="cell exposed four">4</div><div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div>
            <div class="cell"></div><div class="cell exposed seven">7</div><div class="cell exposed six">6</div><div class="cell exposed five">5</div><div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div>
            <div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div>
            <div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div>
            <div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div>
            <div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div>
            <div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div>
        </div> <br><br><br>
        <div class="field" id="mine-field"></div>
    </body>
</html>